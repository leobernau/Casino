<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Casino (Single File)</title>
<style>
  :root{
    --bg1: #2b1055;
    --bg2: #1f005c;
    --card-bg: rgba(0,0,0,0.45);
    --glass-border: rgba(255,255,255,0.08);
    --accent: #f6c84c;
    --muted: #cbd5e1;
  }
  html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
  body{
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    color:#fff;display:flex;align-items:center;justify-content:center;padding:20px;
  }
  .app {
    width:980px;
    max-width:100%;
    display:flex;
    flex-direction:column;
    gap:16px;
  }
  .controls {display:flex;justify-content:space-between;align-items:center;gap:8px}
  .big-title{font-size:28px;font-weight:700}
  .btn{
    background:linear-gradient(90deg,#6b46c1,#4c51bf);border:none;color:white;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600;
  }
  .btn:disabled{opacity:.5;cursor:not-allowed}
  .card{
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border:1px solid var(--glass-border);
    border-radius:14px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.4);
  }
  .stats{display:flex;gap:12px;justify-content:space-between}
  .stat{background:rgba(0,0,0,.25);padding:10px;border-radius:10px;text-align:center;min-width:120px}
  .stat .label{color:var(--muted);font-size:12px}
  .stat .value{font-size:18px;font-weight:700}
  /* slots */
  .reels{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
  .reel{height:110px;background:rgba(0,0,0,0.35);display:flex;align-items:center;justify-content:center;border-radius:10px;font-size:44px;border:2px solid rgba(255,255,255,0.06)}
  .win-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
  .win-badge{background:var(--accent);color:#000;padding:12px 18px;border-radius:8px;font-weight:800}
  /* roulette */
  .roulette-area{display:flex;flex-direction:column;align-items:center;gap:12px}
  .wheel{width:260px;height:260px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative;border:6px solid rgba(255,255,255,0.06);overflow:hidden}
  .wheel-inner{width:86%;height:86%;border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#032,#044)}
  .ticker{position:absolute;top:-12px;left:50%;transform:translateX(-50%);width:18px;height:28px;background:gold;border-bottom-left-radius:8px;border-bottom-right-radius:8px}
  .roulette-number{font-size:38px;font-weight:800}
  .spin-anim{animation:spin 0.6s linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}
  /* blackjack */
  .cards{display:flex;gap:8px;flex-wrap:wrap}
  .card-face{width:72px;height:96px;background:white;color:black;border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-weight:700}
  .card-face.red{color:#b91c1c}
  /* shop */
  .shop-list{display:flex;flex-direction:column;gap:8px;max-height:200px;overflow:auto;padding-right:6px}
  .skin-row{display:flex;align-items:center;justify-content:space-between;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04)}
  .skin-label{display:flex;gap:12px;align-items:center}
  .skin-swatch{width:36px;height:36px;border-radius:6px;border:1px solid rgba(255,255,255,0.08)}
  .muted{color:var(--muted);font-size:13px}
  .center{display:flex;align-items:center;justify-content:center}
  footer{color:var(--muted);font-size:13px;text-align:center;margin-top:6px}
  /* responsive */
  @media (max-width:760px){
    .stats{flex-direction:column;gap:8px}
    .reel{height:86px;font-size:36px}
    .wheel{width:200px;height:200px}
  }
</style>
</head>
<body>
<div class="app">
  <div class="controls">
    <div class="left"><button id="prevGame" class="btn">‚óÄ</button></div>
    <div class="center big-title" id="gameTitle">Slot Machine</div>
    <div class="right"><button id="nextGame" class="btn">‚ñ∂</button></div>
  </div>

  <div id="mainCard" class="card" style="position:relative">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px">
      <div class="stats" style="flex:1">
        <div class="stat">
          <div class="label">Balance</div>
          <div class="value" id="balance">$1000</div>
        </div>
        <div class="stat">
          <div class="label">Spins</div>
          <div class="value" id="spins">0</div>
        </div>
      </div>
      <div style="display:flex;gap:8px">
        <button id="infoBtn" class="btn" title="Info">i</button>
        <button id="shopBtn" class="btn" title="Shop">üõí</button>
      </div>
    </div>

    <!-- SLOTS -->
    <div id="view-slots" class="view">
      <div style="position:relative">
        <div class="reels" id="reels">
          <div class="reel" id="reel-0">üçí</div>
          <div class="reel" id="reel-1">üçã</div>
          <div class="reel" id="reel-2">üçä</div>
        </div>

        <div id="slotsWin" style="display:none" class="win-overlay">
          <div class="win-badge" id="slotsWinText">WIN +$0</div>
        </div>
      </div>

      <div style="margin-top:12px;display:flex;gap:10px">
        <button id="spinBtn" class="btn" style="flex:1;padding:14px">SPIN ($10)</button>
      </div>
    </div>

    <!-- ROULETTE -->
    <div id="view-roulette" class="view" style="display:none">
      <div class="roulette-area">
        <div class="wheel" id="wheel">
          <div id="wheelInner" class="wheel-inner">
            <div id="rouletteDisplay" class="roulette-number">Place Bet</div>
          </div>
          <div class="ticker"></div>
        </div>

        <div style="display:flex;gap:8px">
          <button id="betRed" class="btn">Red</button>
          <button id="betBlack" class="btn">Black</button>
        </div>

        <div id="rouletteWin" style="display:none" class="muted">WIN +$0</div>
        <div class="muted" style="margin-top:6px">Bet costs $50</div>
      </div>
    </div>

    <!-- BLACKJACK -->
    <div id="view-blackjack" class="view" style="display:none">
      <div style="display:flex;gap:18px;flex-direction:column">
        <div>
          <div class="muted">Dealer</div>
          <div class="cards" id="dealerCards"></div>
          <div class="muted" id="dealerValue">Value: 0</div>
        </div>

        <div>
          <div class="muted">Player</div>
          <div class="cards" id="playerCards"></div>
          <div class="muted" id="playerValue">Value: 0</div>
        </div>

        <div style="display:flex;gap:8px;align-items:center">
          <label class="muted">Bet:</label>
          <input id="bjBet" type="number" min="10" value="50" style="width:90px;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:white" />
          <button id="dealBtn" class="btn">Deal</button>
          <button id="hitBtn" class="btn" disabled>Hit</button>
          <button id="standBtn" class="btn" disabled>Stand</button>
        </div>

        <div id="bjMessage" class="muted"></div>
      </div>
    </div>

  </div>

  <!-- Info / Shop -->
  <div style="display:flex;gap:12px">
    <div id="infoBox" class="card" style="flex:1;display:none">
      <div style="font-weight:700;margin-bottom:8px">How to play</div>
      <div class="muted" id="infoText">Slots: $10 per spin. Roulette: $50 per spin. Blackjack: place bet and deal.</div>
    </div>

    <div id="shopBox" class="card" style="flex:1;display:none">
      <div style="font-weight:700;margin-bottom:8px">Skin Shop</div>
      <div class="shop-list" id="skinList"></div>
      <div style="margin-top:8px" class="muted" id="skinInfo">Active multiplier: x1</div>
    </div>
  </div>

  <footer>Single-file Casino ‚Äî Save as <code>index.html</code> and open in browser</footer>
</div>

<script>
/* ---------- Data (like original) ---------- */
const SYMBOLS = [
  { id: 0, emoji: "üçí", name: "Cherry", baseValue: 10 },
  { id: 1, emoji: "üçã", name: "Lemon", baseValue: 20 },
  { id: 2, emoji: "üçä", name: "Orange", baseValue: 30 },
  { id: 3, emoji: "üçá", name: "Grape", baseValue: 40 },
  { id: 4, emoji: "üîî", name: "Bell", baseValue: 50 },
  { id: 5, emoji: "‚≠ê", name: "Star", baseValue: 75 },
  { id: 6, emoji: "7Ô∏è‚É£", name: "Seven", baseValue: 100 },
];

let SKINS = [
  { id:0, name:"Classic", price:0, owned:true, active:true, color:"linear-gradient(90deg,#2d3748,#1a202c)" },
  { id:1, name:"Golden", price:500, owned:false, active:false, color:"linear-gradient(90deg,#f6d365,#fda085)" },
  { id:2, name:"Neon", price:1000, owned:false, active:false, color:"linear-gradient(90deg,#ff7eb3,#7afcff)" },
  { id:3, name:"Diamond", price:2500, owned:false, active:false, color:"linear-gradient(90deg,#9be15d,#00e3ae)" },
  { id:4, name:"Rainbow", price:5000, owned:false, active:false, color:"linear-gradient(90deg,#f093fb,#f5576c)" },
];

const ROULETTE_NUMBERS = [
  { number: 0, color: "green" },
  { number: 32, color: "red" }, { number: 15, color: "black" }, { number: 19, color: "red" },
  { number: 4, color: "black" }, { number: 21, color: "red" }, { number: 2, color: "black" },
  { number: 25, color: "red" }, { number: 17, color: "black" }, { number: 34, color: "red" },
  { number: 6, color: "black" }, { number: 27, color: "red" }, { number: 13, color: "black" },
  { number: 36, color: "red" }, { number: 11, color: "black" }, { number: 30, color: "red" },
  { number: 8, color: "black" }, { number: 23, color: "red" }, { number: 10, color: "black" },
  { number: 5, color: "red" }, { number: 24, color: "black" }, { number: 16, color: "red" },
  { number: 33, color: "black" }, { number: 1, color: "red" }, { number: 20, color: "black" },
  { number: 14, color: "red" }, { number: 31, color: "black" }, { number: 9, color: "red" },
  { number: 22, color: "black" }, { number: 18, color: "red" }, { number: 29, color: "black" },
  { number: 7, color: "red" }, { number: 28, color: "black" }, { number: 12, color: "red" },
  { number: 35, color: "black" }, { number: 3, color: "red" }, { number: 26, color: "black" }
];

const SUITS = ['‚ô†','‚ô•','‚ô¶','‚ô£'];
const VALUES = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];

function generateDeck(){
  const deck = [];
  for(const s of SUITS){
    for(const v of VALUES){
      deck.push({suit:s, value:v});
    }
  }
  return deck;
}
function calculateHandValue(hand){
  let value=0, aces=0;
  for(const card of hand){
    if(card.value === 'A'){ aces++; value+=11; }
    else if(['K','Q','J'].includes(card.value)) value+=10;
    else value += parseInt(card.value,10);
  }
  while(value>21 && aces>0){ value-=10; aces--; }
  return value;
}

/* ---------- State ---------- */
let gameMode = 'slots'; // slots | roulette | blackjack
let reels = [0,1,2];
let isSpinning = false;
let balance = 1000;
let spins = 0;
let winAmount = 0;
let activeSkinId = 0;
let rouletteBet = null;
let isRouletteSpinning = false;

/* Blackjack state */
let bjState = {
  deck:[],
  playerHand:[],
  dealerHand:[],
  playerValue:0,
  dealerValue:0,
  gameOver:true,
  bet:0,
  message:"Place your bet"
};

/* ---------- Helpers & UI ---------- */
const $ = id => document.getElementById(id);
function renderBalance(){ $('balance').textContent = `$${balance}`; }
function renderSpins(){ $('spins').textContent = spins; }
function getActiveSkin(){ return SKINS.find(s=>s.active) || SKINS[0]; }
function applySkinLook(){
  const skin = getActiveSkin();
  document.getElementById('mainCard').style.background = skin.color;
  $('skinInfo').textContent = `Active multiplier: x${skin.id+1}`;
}
function showView(name){
  gameMode = name;
  $('view-slots').style.display = name==='slots' ? '' : 'none';
  $('view-roulette').style.display = name==='roulette' ? '' : 'none';
  $('view-blackjack').style.display = name==='blackjack' ? '' : 'none';
  $('gameTitle').textContent = name==='slots' ? 'Slot Machine' : name==='roulette' ? 'Roulette' : 'Blackjack';
}

/* ---------- Slots logic ---------- */
function spinSlots(){
  if(isSpinning) return;
  if(balance < 10){ alert('Insufficient funds'); return; }
  balance -= 10; renderBalance();
  isSpinning = true;
  winAmount = 0; $('slotsWin').style.display='none';
  spins++; renderSpins();

  // Choose random results
  const newReels = [
    Math.floor(Math.random()*SYMBOLS.length),
    Math.floor(Math.random()*SYMBOLS.length),
    Math.floor(Math.random()*SYMBOLS.length),
  ];

  // staggered reveal
  setTimeout(()=>{ setReel(0,newReels[0]); }, 300);
  setTimeout(()=>{ setReel(1,newReels[1]); }, 650);
  setTimeout(()=>{ setReel(2,newReels[2]); finalizeSlots(newReels); isSpinning=false; }, 1000);
}
function setReel(i,idx){
  $('reel-'+i).textContent = SYMBOLS[idx].emoji;
}
function finalizeSlots(newReels){
  const isWin = newReels[0]===newReels[1] && newReels[1]===newReels[2];
  if(isWin){
    const symbol = SYMBOLS[newReels[0]];
    const skinMultiplier = getActiveSkin().id + 1;
    const win = symbol.baseValue * skinMultiplier;
    balance += win; renderBalance();
    winAmount = win;
    $('slotsWinText').textContent = `WIN +$${win}`;
    $('slotsWin').style.display='flex';
    setTimeout(()=>{$('slotsWin').style.display='none';},2600);
  }
}

/* ---------- Roulette logic ---------- */
function setRouletteBet(color){
  if(isRouletteSpinning) return;
  rouletteBet = rouletteBet===color ? null : color;
  $('betRed').style.opacity = rouletteBet==='red' ? 1 : 0.8;
  $('betBlack').style.opacity = rouletteBet==='black' ? 1 : 0.8;
}
function spinRoulette(){
  if(isRouletteSpinning) return;
  if(!rouletteBet){ alert('Choose red or black'); return; }
  if(balance < 50){ alert('Insufficient funds'); return; }
  balance -= 50; renderBalance();
  isRouletteSpinning = true;
  spins++; renderSpins();
  $('rouletteDisplay').textContent = '...';
  $('wheelInner').classList.add('spin-anim');
  setTimeout(()=>{
    $('wheelInner').classList.remove('spin-anim');
    const idx = Math.floor(Math.random()*ROULETTE_NUMBERS.length);
    const res = ROULETTE_NUMBERS[idx];
    $('rouletteDisplay').textContent = res.number;
    $('rouletteDisplay').style.color = res.color==='red' ? '#f87171' : res.color==='black' ? '#fff' : '#34d399';
    if(res.number !== 0 && res.color === rouletteBet){
      const win = 100 * (getActiveSkin().id + 1);
      balance += win; renderBalance();
      $('rouletteWin').textContent = `WIN +$${win}`;
      $('rouletteWin').style.display = '';
      setTimeout(()=>{$('rouletteWin').style.display='none';},2600);
    } else {
      // lose -> nothing
    }
    rouletteBet = null;
    $('betRed').style.opacity = 0.8;
    $('betBlack').style.opacity = 0.8;
    isRouletteSpinning = false;
  }, 1800);
}

/* ---------- Blackjack logic ---------- */
function startBlackjack(){
  const bet = parseInt($('bjBet').value,10) || 0;
  if(bet <= 0 || bet > balance){ alert('Invalid bet'); return; }
  balance -= bet; renderBalance();
  spins++; renderSpins();
  const deck = generateDeck().sort(()=>Math.random()-0.5);
  const playerHand = [ deck.pop(), deck.pop() ];
  const dealerHand = [ deck.pop(), deck.pop() ];
  const playerValue = calculateHandValue(playerHand);
  bjState = {
    deck, playerHand, dealerHand,
    playerValue,
    dealerValue: calculateHandValue([dealerHand[0]]),
    gameOver: false, bet, message: playerValue===21 ? 'Blackjack! You win!' : 'Hit or Stand'
  };
  renderBlackjack();
  if(playerValue === 21){
    const win = Math.floor(bet * 2.5);
    balance += win; renderBalance();
    showBJMessage(`Blackjack! +$${win}`);
    bjState.gameOver = true;
    renderBlackjack();
  } else {
    $('hitBtn').disabled=false; $('standBtn').disabled=false;
  }
}
function renderBlackjack(){
  const dealerEl = $('dealerCards'); dealerEl.innerHTML='';
  bjState.dealerHand.forEach((c,i)=>{
    const el = makeCardEl(c, (!bjState.gameOver && i===1) ? true : false);
    dealerEl.appendChild(el);
  });
  $('dealerValue').textContent = 'Value: ' + (bjState.gameOver ? bjState.dealerValue : calculateHandValue([bjState.dealerHand[0]]));
  const playerEl = $('playerCards'); playerEl.innerHTML='';
  bjState.playerHand.forEach(c=> playerEl.appendChild(makeCardEl(c,false)));
  $('playerValue').textContent = 'Value: '+bjState.playerValue;
  $('bjMessage').textContent = bjState.message;
  if(bjState.gameOver){ $('hitBtn').disabled=true; $('standBtn').disabled=true; $('dealBtn').disabled=false; }
  else { $('dealBtn').disabled=true; }
}
function makeCardEl(card, hide=false){
  const el = document.createElement('div');
  el.className = 'card-face ' + ((card.suit==='‚ô•' || card.suit==='‚ô¶') ? 'red':'');
  if(hide){ el.textContent = '?'; el.style.background = '#0f172a'; el.style.color = '#fff'; }
  else {
    const v = card.value;
    el.innerHTML = `<div style="font-size:14px">${v}</div><div style="font-size:26px">${card.suit}</div>`;
  }
  return el;
}
function hitBJ(){
  if(bjState.gameOver) return;
  const deck = bjState.deck;
  const card = deck.pop();
  bjState.playerHand.push(card);
  bjState.playerValue = calculateHandValue(bjState.playerHand);
  if(bjState.playerValue > 21){
    bjState.gameOver = true;
    bjState.message = 'Bust! You lose.';
    renderBlackjack();
  } else {
    bjState.deck = deck;
    bjState.message = 'Hit or Stand?';
    renderBlackjack();
  }
}
function standBJ(){
  if(bjState.gameOver) return;
  let { deck, dealerHand } = bjState;
  let dealerValue = calculateHandValue(dealerHand);
  while(dealerValue < 17){
    dealerHand.push(deck.pop());
    dealerValue = calculateHandValue(dealerHand);
  }
  let message = '';
  let win = 0;
  if(dealerValue > 21){
    message = 'Dealer busts! You win!';
    win = bjState.bet * 2;
    balance += win;
  } else if(dealerValue > bjState.playerValue){
    message = 'Dealer wins!';
  } else if(bjState.playerValue > dealerValue){
    message = 'You win!';
    win = bjState.bet * 2;
    balance += win;
  } else {
    message = "Push! It's a tie.";
    balance += bjState.bet;
  }
  bjState = { ...bjState, deck, dealerHand, dealerValue, gameOver:true, message };
  renderBlackjack();
  if(win>0){ showBJMessage(`WIN +$${win}`); renderBalance(); }
}
function showBJMessage(msg){
  $('bjMessage').textContent = msg;
  setTimeout(()=>{ if(!bjState.gameOver) $('bjMessage').textContent=''; }, 3000);
}

/* ---------- Shop ---------- */
function renderShop(){
  const list = $('skinList'); list.innerHTML='';
  SKINS.forEach(s=>{
    const row = document.createElement('div'); row.className='skin-row';
    const left = document.createElement('div'); left.className='skin-label';
    const sw = document.createElement('div'); sw.className='skin-swatch'; sw.style.background = s.color;
    left.appendChild(sw);
    const txt = document.createElement('div');
    txt.innerHTML = `<div style="font-weight:700">${s.name} Skin</div><div class="muted">${s.owned ? (s.active ? 'Active' : 'Owned') : `Price: $${s.price}`}</div>`;
    left.appendChild(txt);
    row.appendChild(left);
    const right = document.createElement('div');
    if(!s.owned){
      const btn = document.createElement('button'); btn.className='btn'; btn.textContent='Buy';
      btn.disabled = balance < s.price;
      btn.onclick = ()=>{ buySkin(s.id); };
      right.appendChild(btn);
    } else if(!s.active){
      const btn = document.createElement('button'); btn.className='btn'; btn.textContent='Equip';
      btn.onclick = ()=>{ equipSkin(s.id); };
      right.appendChild(btn);
    } else {
      const span = document.createElement('div'); span.style.color='#f6e05e'; span.style.fontWeight=700; span.textContent='ACTIVE';
      right.appendChild(span);
    }
    row.appendChild(right);
    list.appendChild(row);
  });
  $('skinInfo').textContent = `Active multiplier: x${getActiveSkin().id+1}`;
}
function buySkin(id){
  const skin = SKINS.find(s=>s.id===id);
  if(!skin) return;
  if(skin.owned) return;
  if(balance < skin.price){ alert('Insufficient funds'); return; }
  balance -= skin.price; renderBalance();
  skin.owned = true;
  equipSkin(id);
  renderShop();
}
function equipSkin(id){
  SKINS = SKINS.map(s=>({ ...s, active: s.id===id }));
  activeSkinId = id;
  applySkinLook();
  renderShop();
}

/* ---------- UI bindings ---------- */
$('prevGame').addEventListener('click', ()=>{
  const order = ['slots','roulette','blackjack'];
  let i = order.indexOf(gameMode);
  i = (i-1+order.length)%order.length;
  showView(order[i]);
});
$('nextGame').addEventListener('click', ()=>{
  const order = ['slots','roulette','blackjack'];
  let i = order.indexOf(gameMode);
  i = (i+1)%order.length;
  showView(order[i]);
});
$('infoBtn').addEventListener('click', ()=>{ $('infoBox').style.display = $('infoBox').style.display==='none' ? '' : 'none'; });
$('shopBtn').addEventListener('click', ()=>{ $('shopBox').style.display = $('shopBox').style.display==='none' ? '' : 'none'; renderShop(); applySkinLook(); });

$('spinBtn').addEventListener('click', spinSlots);
$('betRed').addEventListener('click', ()=>setRouletteBet('red'));
$('betBlack').addEventListener('click', ()=>setRouletteBet('black'));
$('wheel').addEventListener('click', spinRoulette);

$('dealBtn').addEventListener('click', startBlackjack);
$('hitBtn').addEventListener('click', hitBJ);
$('standBtn').addEventListener('click', standBJ);

/* init UI */
renderBalance(); renderSpins(); applySkinLook(); renderShop(); showView('slots');

/* Small keyboard shortcuts for convenience */
document.addEventListener('keydown',(e)=>{
  if(e.key === '1') showView('slots');
  if(e.key === '2') showView('roulette');
  if(e.key === '3') showView('blackjack');
});
</script>
</body>
</html>
